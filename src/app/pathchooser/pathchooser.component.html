<div class="container">
  <div class="row">
    <div class="col-sm-12 page-title">
      Scegli un punto partenza, uno di arrivo e l'orario del tuo viaggio!
    </div>
  </div>
  <div class="row">
    <div class="col-sm-6">
      <form [formGroup]="formGroup" (ngSubmit)="getCurrentLocation()">
        <span>Seleziona la citt√† dalla quale partirai:</span>
        <input ngui-auto-complete
          formControlName="origine"
          [source]="searchCities"
          [list-formatter]="autocompleListFormatter"
          [(ngModel)]="origineCity"
          value-property-name="id"
          display-property-name="value"
          placeholder="Partenza"
          accept-user-input="false"
          max-num-list="10"
          min-chars="2"
          auto-select-first-item="true"
          select-on-blur="true"
          (valueChanged)="manageCitiesChoices($event, 'origin')"
          class="form-control autocomplete-input">
        <span>Seleziona la tua meta:</span>
        <input ngui-auto-complete
          formControlName="destinazione"
          [source]="searchCities"
          [list-formatter]="autocompleListFormatter"
          [(ngModel)]="destinazioneCity"
          value-property-name="id"
          display-property-name="value"
          placeholder="Destinazione"
          accept-user-input="false"
          max-num-list="10"
          min-chars="2"
          auto-select-first-item="true"
          select-on-blur="true"
          (valueChanged)="manageCitiesChoices($event, 'destination')"
          class="form-control autocomplete-input">
        </form>
        <!-- (blur)="setMarker($event)" -->
    </div>
    <div class="col-sm-6">
      <agm-map [latitude]="map.lat" [longitude]="map.lng" [zoom]="11" [mapTypeControl]="true" [gestureHandling]="greedy">
          <!-- <agm-marker [latitude]="map.lat" [longitude]="map.lng"></agm-marker> -->
          <agm-polyline [strokeColor]="'#2196f3'">
            <agm-polyline-point *ngFor="let poly of polyArray" [latitude]="poly.latitude" [longitude]="poly.longitude"></agm-polyline-point>
            <!-- <agm-polyline-point [latitude]="map.lat" [longitude]="map.lng"></agm-polyline-point> -->
          </agm-polyline>
        </agm-map>
    </div>
  </div>
</div>
