<div class="row">
  <div class="col-12 col-sm-3">
    <div>
      <form [formGroup]="filtersFormGroup">
        <app-cityautocomplete formControlName="departureCityPicker" placeholder="Parto da"></app-cityautocomplete>
        <app-cityautocomplete formControlName="arrivalCityPicker" placeholder="Arrivo a"></app-cityautocomplete>
        <p>Data di partenza:</p>
        <div class="input-group">
          <input formControlName="datePicker" class="form-control" placeholder="yyyy-mm-dd"
            name="datePicker" ngbDatepicker #d="ngbDatepicker" (ngModelChange)="dateChange($event)">
          <div class="input-group-append">
            <button class="btn btn-outline-secondary" (click)="d.toggle()" type="button">
              <i class="fas fa-calendar-alt"></i>
            </button>
          </div>
        </div>
        <p></p>
        <button (click)="getTrips()" class="btn btn-info">Cerca nuovi viaggi</button>
        <p></p>
        <p>Filtra i risultati trovati:</p>
        <p></p>
        <div>
          <p>Orario: {{ startTime }}h - {{ endTime }}h</p>
          <nouislider formControlName="timePicker" (ngModelChange)="timeChange($event)" [config]="timePickerConfig" [min]="0" [max]="24"></nouislider>
        </div>
        <div *ngIf="!storedTrips.length == 0">
          <p>Prezzo: max {{ selectedPrice }}â‚¬</p>
          <nouislider formControlName="pricePicker" (ngModelChange)="priceChange($event)" [config]="pricePickerConfig" [min]="0" [max]="maxPrice"></nouislider>
        </div>
      </form>
    </div>
    <p></p>
  </div>
  <div class="col-12 col-sm-8 offset-sm-1">
    <div id="trips-column">
      <div class="row trips-order">
      </div>
      <div class="row">
          <div class="col-12 trips-repeater-container"></div>
      </div>
      <div *ngFor="let trip of allTrips | paginate: { itemsPerPage: 5, currentPage: p }" class="trips-repeater-row">
        <app-tripabstract [Trip]="trip"></app-tripabstract>
      </div>
    </div>
    <div class="pagination-row">
      <pagination-controls (pageChange)="p = $event" autoHide="true"></pagination-controls>
    </div>
  </div>
</div>
